# HSE_HomeWorkAssembler3
üè´ –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ3 –ø–æ –∫—É—Ä—Å—É "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º", –ë–ü–ò216 –ë–∞–≥–∞–µ–≤ –ú–∞—Ä–∞—Ç, –í–∞—Ä–∏–∞–Ω—Ç 11

# –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ 4 –±–∞–ª–ª–∞
1. –ù–∞–ø–∏—Å–∞–ª –∫–æ–¥ –Ω–∞ C - [code.c](code.c)
2. –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ```gcc code.c -S -o code.s -masm=intel``` –ø–æ–ª—É—á–∏–ª –∫–æ–¥ –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ - [code.s](code.s)
3. –î–æ–±–∞–≤–∏–ª –≤ –∫–æ–¥ –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ—è—Å–Ω—è—é—â–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω–∞ C - [code.s](code.s)
4. –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ```gcc -masm=intel -fno-asynchronous-unwind-tables -fno-jump-tables -fno-stack-protector -fno-exceptions code.c -S -o code_nice.s``` —É–±—Ä–∞–ª –∏–∑ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ –ª–∏—à–Ω–∏–µ –º–∞–∫—Ä–æ—Å—ã - [code_nice.s](code_nice.s)
5. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–∑ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ```gcc code_nice.s -o code_nice.exe``` - [code_nice.exe](code_nice.exe) 
6. –ù–∞–ø–∏—Å–∞–ª –Ω–∞ –ø–∏—Ç–æ–Ω–µ —Ç–µ—Å—Ç–∏—Ä—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç - [script.py](script.py). –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–µ –≤—ã—è–≤–∏–ª–æ

# –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ 5 –±–∞–ª–ª–æ–≤
1. –§—É–Ω–∫—Ü–∏–∏ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ä—Ç—ã —è —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª
2. –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —è —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª
3. –î–æ–±–∞–≤–∏–ª –≤ [code.s](code.s) –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ –ø–µ—Ä–µ–¥–∞—á—É —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–µ—Ä–µ–Ω–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
4. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–µ—Ä—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏ —É–∂–µ –±—ã–ª–∏([code.s](code.s))

# –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ 6 –±–∞–ª–ª–æ–≤
1. –Ø –∑–∞–º–µ–Ω–∏–ª —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ —Å—Ç–µ–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä—ã:
- –í —Ñ—É–Ω–∫—Ü–∏–∏ calculate –∑–∞–º–µ–Ω–∏–ª –∞—Ä–≥—É–º–µ–Ω—Ç double x = -40[rbp] –Ω–∞ xmm2
- –í —Ñ—É–Ω–∫—Ü–∏–∏ calculate –∑–∞–º–µ–Ω–∏–ª double prev = -24[rbp] –Ω–∞ xmm3
- –í —Ñ—É–Ω–∫—Ü–∏–∏ calculate –∑–∞–º–µ–Ω–∏–ª double now = -16[rbp] –Ω–∞ xmm4
- –í —Ñ—É–Ω–∫—Ü–∏–∏ calculate –∑–∞–º–µ–Ω–∏–ª double pow_x = -8[rbp] –Ω–∞ xmm5

–ù–∞–¥–µ—é—Å—å —ç—Ç–æ–≥–æ —Ö–≤–∞—Ç–∏—Ç

–ù–æ–≤—ã–π –∫–æ–¥ - [code_without_vars.s](code_without_vars.s)

2. –Ø –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –ø—É–Ω–∫—Ç–∞ 1 —Ö–≤–∞—Ç–∏—Ç –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ C
3. –Ø —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª –≤—Å–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —É –º–µ–Ω—è –±—ã–ª–∏ –∏ —Å–æ—Å—Ç–∞–≤–∏–ª —Ç–∞–±–ª–∏—Ü—É —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—è–º–∏ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–∞–º—è—Ç—å—é, –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç

| –ü—Ä–æ–≥—Ä–∞–º–º–∞                 | –í—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö   | –ü–∞–º—è—Ç—å exe-—à–Ω–∏–∫–æ–≤ –≤ –±–∞–π—Ç–∞—Ö | –ü–∞–º—è—Ç—å –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –±–∞–π—Ç–∞—Ö |
|:--------------------------:|:------------------:|:------------------:|:----------------------------------:|
| [code_without_vars.exe](code_without_vars.s)  | 0.0014849127       | 16304     |     3040        |
| [code_s.exe](code.s)             | 0.0016389749       | 16304               |      3056      |
| [code_c.exe](code.c)             | 0.0014942788       | 16304              |      3056      |
| [code_nice.exe](code_nice.s)          | 0.0015096718       | 16248              |   2656         |

–£—Ä–∞, –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ, –∑–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ —Å—Ç–µ–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä—ã —Å–¥–µ–ª–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—É —Å–∞–º–æ–π –±—ã—Å—Ç—Ä–æ–π –∏–∑ –≤—Å–µ—Ö(–≤ –ø—Ä–æ—à–ª—ã—Ö –¥–∑ code_without_vars.exe —Ä–∞–±–æ—Ç–∞–ª –¥–æ–ª—å—à–µ –≤—Å–µ—Ö).  

# –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ 7 –±–∞–ª–ª–æ–≤
1. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –¥–ª—è –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ —É –º–µ–Ω—è —É–∂–µ –±—ã–ª–∞(1-—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ - —Ñ–∞–π–ª –¥–ª—è –≤–≤–æ–¥–∞, 2-–æ–π - –¥–ª—è –≤—ã–≤–æ–¥–∞)

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—å —á–∏—Å–ª–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∞—Ö —Ç–æ–∂–µ –±—ã–ª–∏ —Ä–∞–Ω—å—à–µ

3. –°–æ–∑–¥–∞–ª –ø–∞–ø–∫—É "multi-module project". –†–∞–∑–¥–µ–ª–∏–ª –∏—Å—Ö–æ–¥–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ 2 —á–∞—Å—Ç–∏. –ö–æ–¥ main —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ [main.s](multi-module_project/main.s) –∏ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ calculate –≤ —Ñ–∞–π–ª–µ [calculate.s](multi-module_project/calculate.s). –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ```gcc -c *.s``` –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª –∏—Ö –≤ –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∞–ª–µ–µ –∫–æ–º–∞–Ω–¥–æ–π ```gcc *.o -o "multi-module code.exe"``` –ø–æ–ª—É—á–∏–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–ø–∫–µ [multi-module_project](multi-module_project/)
